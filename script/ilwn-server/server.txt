Хостинг на Yandex.Cloud:
------------------------
  Имя: ilwn-server (зона ru-central1-a)
  IP виртуальной машины: 51.250.64.23
  OS: Ubuntu 18.04 + Nginx (LEMP)

Настройка:
----------
Веб-сайт работает в Yandex.Cloud на связке виртуальной машины в облаке Compute Cloud и бакетов
(www. и dl.) в Object Storage. Виртуальная машина под управлением LEMP (Ubuntu + Nginx) на базе
образа "LEMP от Yandex.Cloud" (Cloud Marketplace). В качестве платформы пока используется самая
дешёвая конфигурация (Intel Cascade Lake, 5% 2x vCPU, 1Gb RAM, 10Gb HDD).

Для веб-сайта Nginx выполняет роль обратного прокси-сервера. Файлы сайта расположены в двух
бакетах (основном www. для dmaslov.me и дополнительном dl. для субдомена загрузок).

В /usr/share/nginx нужно создать 3 директории: dmaslov.me, dl.dmaslov.me и dmaslov.name.
А также изменить им группу и дать разрешение 775 (chmod g+rw). Затем скопировать на сервер
локальные фалы настроек Nginx (/etc/nginx/), сделать символьные ссылки в ./sites-enabled/ на
два файла в директории ./sites-available/, а также удалить ссылку ./sites-enabled/default.

Для HTTPS используется certbot, установленный через apt (<user> - имя пользователя):
  1) sudo apt install certbot
  2) sudo apt install python-certbot-nginx
  3) sudo certbot --nginx -d dmaslov.me,www.dmaslov.me,dl.dmaslov.me
  4) sudo certbot --nginx -d dmaslov.name,www.dmaslov.name

Для автоматического обновления сертификатов (только, если certbot сам не добавил задачу
в crontab или таймер -- см. "cat /etc/cron.d/certbot" и "systemctl list-timers"):
  5) sudo crontab -e (добавляем строку "45 23 * * * root /usr/bin/certbot -q renew")

Некоторые команды Ubuntu/Nginx:
  *) sudo nginx -t -- проверить конфигурацию
  *) sudo nginx -s reload -- перезагрузить конфигурацию
  *) df -m -- показать все тома (свободное место на накопителе)
  *) top -- показать процессы и оперативную память (Q, чтобы выйти)
  *) sudo apt update и sudo apt upgrade -- обновление компонент
  *) sudo apt autoclean и sudo apt clean -- очистка кэша обновлений
  *) sudo apt autoremove -- удаление ненужных компонент
  *) systemctl list-timers -- посмотреть все активные таймеры
  *) sudo apt-mark hold/unhold/showhold -- холд для packages
  *) sudo service mysql stop/start - управление работой сервера MySQL
  *) sudo systemctl disable/enable mysql - управление автозапуском MySQL

Логи веб-сервера расположены в директории /var/log/nginx.
